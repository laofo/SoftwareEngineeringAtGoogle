2.2构建系统
谷歌使用一个被称为Blaze的分布式构建系统,此系统负责软件的编译、链接及测试。它提供适用于整个代码库的标准命令来构建和测试软件。这些标准命令和高度优化的工具意味着任何Google工程师构建版本和测试软件通常是非常简单和快速的。这种一致性在帮助工程师跨越项目边界进行修改时起到了关键作用。
程序员需要为Blaze编写如何完成版本构建的“BUILD”文件。诸如库、程序和测试这些构建实体，均由高级的声明式构建规范（declarative build specifications，DBS）进行声明，以描述具体的每一个实体，如实体的名称、源文件、相关的库文件或所依赖的其它实体。这些DBS是由被称为“构建规则”的声明来组成的，每个声明均用来指定如“一个拥有依赖于其他库的一系列源文件构成的C++库”这样的高层次概念；同时构建系统可以将每项构建规则和一系列的构建步骤映射起来，例如为每个源文件进行编译的步骤、链接的步骤，以及确定使用哪个编译器和编译标志。
 
在某些情况下，特别是Go程序，因为BUILD文件中的依赖性信息(通常)是源文件依赖信息的抽象，所以构建文件是可以自动生成(和更新)的。尽管如此，这些文件也要被检入到代码库中。这就确保了构建系统通过分析构建文件而不是源文件来快速地确定依赖关系，并以此避免了构建系统和编译器或者用于支撑其他编程语言的分析工具之间的过度耦合。
构建系统使用谷歌的分布式计算设施进行实现。通常每个构建的工作是分布在成百上千台机器中穿插进行的。这使得快速构建超大型程序或并行运行成千上万的测试成为可能。
各个构建步骤必须是“密封”的：只取决于其已声明过的输入。所有依赖都必须被正确的声明，这是分布式构建的基本要求：只有已声明的输入信息会才会被发送到正在运行构建步骤的机器上。因此, 可以依据构建系统来获取构建的真实依赖关系。即使构建系统的某个编译器也同样被视为一种输入。
各个构建步骤是确定的。因此构建系统可以缓存构建结果。软件工程师可以同步其workspace回到原来的变更号再进行重新构建，以得到完全相同的二进制版本。此外，这个缓存还可以在不同的用户之间安全地共享。（为了实现这一功能，我们必须消除构建时所调用工具中的非确定性，例如通过洗掉生成的输出文件中的时间戳。）
构建系统是可靠的。构建系统可以监控构建规则本身变更上的依赖性，这样如果某操作导致规则变化时依旧知道如何重新构建目标，即使在不知道输入是什么的情况下，例如只有编译器选项发生改变时。同时，构建系统能够妥善处理构建某部分被中断或在构建中修改源文件等各种情形：在这种情况下,你只需要重新构建即可，从来不需要运行“make clean”这类命令。
构建结果被缓存在“云”里。这个构建结果不只最终结果，还包含中间结果。如果另一个构建请求需要相同的结果,构建系统将自动复用结果而不是进行重建，即使此请求来自于不同的用户。
快速的增量构建。构建系统一直暂存在内存中，因此可以仅仅针对上次构建之后修改过的文件来进行增量分析，从而完成新的构建。
预提交检查。针对启动代码审查和/或准备提交变更到存储库时，谷歌有工具自动运行一系列测试。代码库的每个subtree都可以包含一个配置文件，以确定要运行哪些测试,以及在什么时候运行：是在代码评审时进行测试、或在提交之前即刻运行测试，或者两者都运行测试。测试可以是同步的，例如在发送变更给审查之前运行，和/或在提交变更到代码库中之前运行(有利于快速测试)。测试也可以是异步的，即通过邮件将结果发送到评审流程中。[评审流程正是代码审查活动发生的电子邮件流程,所有流程的信息也会在基于web的代码复查工具中呈现出来。]
 
在某些情况下，特别是Go程序，因为BUILD文件中的依赖性信息(通常)是源文件依赖信息的抽象，所以构建文件是可以自动生成(和更新)的。尽管如此，这些文件也要被检入到代码库中。这就确保了构建系统通过分析构建文件而不是源文件来快速地确定依赖关系，并以此避免了构建系统和编译器或者用于支撑其他编程语言的分析工具之间的过度耦合。
 
